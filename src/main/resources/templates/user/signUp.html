<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="utf-8">
    <title></title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
	<link rel="stylesheet" type="text/css" href="/css/style.css">
	
	
	<script>
	$(document).ready(function(){
		$("#checkBTN").on('click', function(){
			let userId = $("#userId").val().trim();
			
			$.ajax({
				type:"Post"
				, url:"/user/is-duplicated-id"
				, data:{ "userId" : userId}
				, success:function(data) {
				// {"code":200, "result":"성공"}
					if (data.is_duplicated_id == false) {
						alert("중복");
					} else {
						alert("생성가능")
					}
				}
				, error:function(e) {
					alert("에러발생");
				}
			});
		});
	});
	
	
	</script>
</head>
<body>
    <div class="container">
		<header class="bg-warning d-flex align-items-center">
			<h1>MEMO 게시판</h1>
		</header>
		
		<section class="d-flex align-items-center justify-content-center">
			<div>
				<form method="Post" action="/user/create" >
					<table>
						<tr>
							<th>*아이디(4자 이상)</th>
							<td class="d-flex">
								<input type="text" name="userId" id="userId" class="form-control col-8 ml-2 mt-2 mb-2">
								<button type="button" id="checkBTN" class="btn btn-success text-light col-3 mr-2 mt-2 mb-2">중복확인</button>
							</td>
						</tr>
						<tr>
							<th>*비밀번호</th>
							<td>
								<input type="password" name="password" id="password" class="form-control col-11 m-2">
							</td>
						</tr>
						<tr>
							<th>*이름</th>
							<td>
								<input type="text" name="name" id="name" class="form-control col-11 m-2">
							</td>
						</tr>
						<tr>
							<th>*이메일</th>
							<td>
								<input type="text" name="email" id="email" class="form-control col-11 m-2">
							</td>
						</tr>
						<tr>
							<th>*전화번호</th>
							<td>
								<input type="text" name="phoneNumber" id="phoneNumber" class="form-control col-11 m-2">
							</td>
						</tr>
					</table>
					<div class="d-flex justify-content-end">
						<button type="submit" id="joinBTN" class="btn btn-primary text-light mt-4">회원가입</button>
					</div>
				</form>
			</div>
		</section>
		<footer class="bg-warning d-flex justify-content-center">
			<div class="display-5">Copyright @ memo 2024</div>
		</footer>

    </div>
</body>
</html>